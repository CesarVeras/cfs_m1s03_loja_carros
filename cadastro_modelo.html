<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Loja de Veículos</title>
	<script src="index.js"></script>
</head>
<body>
	<nav>
		<ul>
			<li><a href="index.html">Início</a></li>
			<li><a href="cadastro_marca.html">Marca</a></li>
			<li><a href="#">Modelo</a></li>
			<li><a href="cadastro_veiculo.html">Veículo</a></li>
		</ul>
	</nav>
	<header>
		<h2>Modelo</h2>
	</header>
	<main>
		<form>
			<label for="modelo">Nome do Modelo</label>
			<input type="text" id="modelo" name="modelo" placeholder="modelo..."><br>
			<label for="selectMarca">Marca</label>
			<select name="marca" id="selectMarca">
				<option value="-1">Selecione</option>
			</select>
			<button type="button" id="btnCadastrarModelo">Cadastrar</button>
		</form>
		<p id="feedback"></p>
	</main>
	<script>
		const inputModelo = document.querySelector('#modelo');
		const selectMarca = document.querySelector('#selectMarca');
		const btnCadastrarModelo = document.querySelector('#btnCadastrarModelo');
		const pFeedback = document.querySelector('#feedback');

		marcas.map((marca, i) => {
			let option = document.createElement('option');
			option.value = i;
			option.textContent = marca;
			selectMarca.appendChild(option);
		});

		btnCadastrarModelo.addEventListener('click', () => {
			if (!inputModelo.value) {
				pFeedback.textContent = 'Preencha o campo modelo para cadastrar.';
				return;
			}
			
			if (selectMarca.value < 0) {
				pFeedback.textContent = 'Escolha uma marca para cadastrar.';
				return;
			}

			let feedback = cadastrarModelo(inputModelo.value, marcas[selectMarca.value]);

			inputModelo.value = '';
			selectMarca.value = -1;
			pFeedback.textContent = feedback;
		});
	</script>
</body>
</html>